{"version":3,"sources":["webpack:///src/components/ObjectView.vue","webpack:///./src/components/ObjectView.vue?595b","webpack:///./src/components/ObjectView.vue","webpack:///src/components/FilterMenu.vue","webpack:///./src/components/FilterMenu.vue?6ac3","webpack:///./src/components/FilterMenu.vue","webpack:///src/components/ImageWall.vue","webpack:///./src/components/ImageWall.vue?7009","webpack:///./src/components/ImageWall.vue","webpack:///src/App.vue","webpack:///./src/App.vue?fd6c","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["index_es","library","add","faTimes_default","a","ObjectView","isShown","event","preventDefault","e","preventDefaultForScrollKeys","ObjectView_render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","object","edm_preview","alt","application","description","on","click","$event","toggle","directives","name","rawName","value","expression","_v","_s","href","edm_rights","edm_is_shown_at","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","components_ObjectView","faSlidersH_default","faEyeDropper_default","FilterMenu","colorFilterActive","colorFilter","garment","length","strumporWidth","byxorWidth","trojorWidth","FilterMenu_render","class","open","style","width","strumporBtnWidth","role","aria-pressed","toggleGarment","byxorBtnWidth","trojorBtnWidth","background","activeColor","id","type","change","updateColorFilter","resetColorFilter","_e","FilterMenu_staticRenderFns","FilterMenu_injectStyle","FilterMenu___vue_template_functional__","FilterMenu___vue_styles__","FilterMenu___vue_scopeId__","FilterMenu___vue_module_identifier__","FilterMenu_Component","components_FilterMenu","ImageWall","Spinner","vue_simple_spinner_default","imagesLoaded","vueimagesloaded_default","_this","allItems","visibleLimit","isLoadingImages","r2","g2","b2","ImageWall_render","size","arg","modifiers","progress","cols","gutter","_l","item","key","europeana_record","ImageWall_staticRenderFns","ImageWall_injectStyle","ImageWall___vue_template_functional__","ImageWall___vue_styles__","ImageWall___vue_scopeId__","ImageWall___vue_module_identifier__","ImageWall_Component","components_ImageWall","App","_ref","j","i","$http","get","then","response","body","data","fetchIntoState","handleScroll","App_render","App_staticRenderFns","App_injectStyle","App___vue_template_functional__","App___vue_styles__","App___vue_scopeId__","App___vue_module_identifier__","App_Component","src_App","vue_runtime_esm","use","vue_async_computed_default","vue_resource_esm","vuex_esm","vue_masonry_es2015","config","productionTip","store","Store","state","garmentFilter","mutations","addAllItems","items","increaseVisibleLimit","increase","resetVisibleLimit","index","indexOf","push","splice","loadingImages","notLoadingImages","activateColorFilter","deactivateColorFilter","setColorFilter","color","render","h","$mount"],"mappings":"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","file":"js/app.b2f86c0c.js","sourcesContent":["<template>\n  <div class=\"object\">\n    <img v-bind:src=\"object.edm_preview\" v-bind:alt=\"object.application.description\" v-on:click=\"toggle()\" />\n    <div class=\"details\" v-show=\"isShown\">\n      <img v-bind:src=\"object.edm_preview\" v-bind:alt=\"object.application.description\" />\n      <p>{{ object.application.description }}</p>\n      <a v-bind:href=\"object.edm_rights\">License</a>\n      <a v-bind:href=\"object.edm_is_shown_at\">Source</a>\n      <br>\n      <button v-on:click=\"toggle()\"><i class=\"fas fa-times\"></i></button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport fontawesome from '@fortawesome/fontawesome';\nimport faTimes from '@fortawesome/fontawesome-free-solid/faTimes';\n\nimport { store } from '../main.js';\n\nfontawesome.library.add(faTimes);\n\nexport default {\n  name: 'ObjectView',\n  props: {\n    object: false\n  },\n  data() {\n    return {\n      isShown: false\n    }\n  },\n  methods: {\n    toggle() {\n      this.isShown = !this.isShown;\n\n      // disable scroll if object is open\n      const keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n\n      function preventDefault(e) {\n        e = e || window.event;\n        if (e.preventDefault)\n          e.preventDefault();\n        e.returnValue = false;\n      }\n\n      function preventDefaultForScrollKeys(e) {\n        if (keys[e.keyCode]) {\n          preventDefault(e);\n          return false;\n        }\n      }\n\n      if (this.isShown) {\n        window.onwheel = preventDefault;\n        window.ontouchmove  = preventDefault;\n        document.onkeydown  = preventDefaultForScrollKeys;\n      } else {\n        window.onwheel = null;\n        window.ontouchmove = null;\n        document.onkeydown = null;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.object {\n    display: inline-block;\n    width: 100%;\n}\n\n.object > img {\n    width: 100%;\n    vertical-align: bottom;\n    cursor: pointer;\n}\n\n.details {\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    z-index: 1;\n    background: #c6c2c2;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n\n.details img {\n    max-height: calc(100vh - 200px);\n}\n\nbutton {\n    border: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n    overflow: visible;\n    background: transparent;\n    position: fixed;\n    top: 10px;\n    left: 10px;\n    cursor: pointer;\n    font-size: 20px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ObjectView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"object\"},[_c('img',{attrs:{\"src\":_vm.object.edm_preview,\"alt\":_vm.object.application.description},on:{\"click\":function($event){_vm.toggle()}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShown),expression:\"isShown\"}],staticClass:\"details\"},[_c('img',{attrs:{\"src\":_vm.object.edm_preview,\"alt\":_vm.object.application.description}}),_c('p',[_vm._v(_vm._s(_vm.object.application.description))]),_c('a',{attrs:{\"href\":_vm.object.edm_rights}},[_vm._v(\"License\")]),_c('a',{attrs:{\"href\":_vm.object.edm_is_shown_at}},[_vm._v(\"Source\")]),_c('br'),_c('button',{on:{\"click\":function($event){_vm.toggle()}}},[_c('i',{staticClass:\"fas fa-times\"})])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf8e4cf8\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ObjectView.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf8e4cf8\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ObjectView.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ObjectView.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ObjectView.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf8e4cf8\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ObjectView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cf8e4cf8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ObjectView.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"root\">\n    <div v-on:click=\"toggle()\" v-bind:class=\"{open: isShown}\" class=\"minified\">\n      <i class=\"fas fa-times\"></i>\n      <i class=\"fas fa-sliders-h\"></i>\n    </div>\n    <div v-show=\"isShown\" class=\"expanded\">\n      <div class=\"toogle-garmet-btns\">\n        <div v-on:click=\"toggleGarment($event, 'strumpor')\" v-bind:style=\"{ width: strumporBtnWidth + '%' }\" role=\"button\" aria-pressed=\"false\">Strumpor</div>\n        <div v-on:click=\"toggleGarment($event, 'byxor')\" v-bind:style=\"{ width: byxorBtnWidth + '%' }\" role=\"button\" aria-pressed=\"false\">Byxor</div>\n        <div v-on:click=\"toggleGarment($event, 'tröjor')\" v-bind:style=\"{ width: trojorBtnWidth + '%' }\" role=\"button\" aria-pressed=\"false\">Tröjor</div>\n      </div>\n\n      <div id=\"color-wraper\" v-bind:style=\"{background: '#' + activeColor }\">\n        <i class=\"fas fa-eye-dropper\"></i>\n        <input v-on:change=\"updateColorFilter($event)\" type=\"color\"/>\n      </div>\n      <button id=\"color-reset\" v-if=\"colorFilterStatus\" v-on:click=\"resetColorFilter()\">Reset color</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport fontawesome from '@fortawesome/fontawesome';\nimport faSlidersH from '@fortawesome/fontawesome-free-solid/faSlidersH';\nimport faTimes from '@fortawesome/fontawesome-free-solid/faTimes';\nimport faEyeDropper from '@fortawesome/fontawesome-free-solid/faEyeDropper';\n\nimport { store } from '../main.js';\n\nfontawesome.library.add(faSlidersH);\nfontawesome.library.add(faTimes);\nfontawesome.library.add(faEyeDropper);\n\nexport default {\n  name: 'FilterMenu',\n  data() {\n    return {\n      isShown: false,\n      strumporBtnWidth: 40,\n      byxorBtnWidth: 40,\n      trojorBtnWidth: 40,\n    }\n  },\n  computed: {\n   colorFilterStatus() {\n      return store.state.colorFilterActive;\n    },\n    activeColor() {\n      return store.state.colorFilter;\n    }\n  },\n  methods: {\n    toggle() {\n      this.isShown = !this.isShown;\n    },\n\n    toggleGarment(e, garment) {\n      if (e.target.getAttribute('aria-pressed') === 'false') {\n        e.target.setAttribute('aria-pressed', 'true');\n      } else {\n        e.target.setAttribute('aria-pressed', 'false');\n      }\n      store.commit('toggleGarment', garment);\n    },\n\n    updateColorFilter(e) {\n      store.commit('activateColorFilter');\n      store.commit('setColorFilter', e.target.value.substring(1));\n    },\n\n    resetColorFilter() {\n      store.commit('deactivateColorFilter');\n    }\n  },\n  created: function() {\n    // calculate btn widths\n    const whole = store.state.allItems.length;\n    const strumporCount = store.state.allItems.filter(item => item.application.garment.includes('strumpor')).length;\n    const byxorCount = store.state.allItems.filter(item => item.application.garment.includes('byxor')).length;\n    const trojorCount = store.state.allItems.filter(item => item.application.garment.includes('tröjor')).length;\n    const strumporWidth = strumporCount / whole * 100;\n    const byxorWidth = byxorCount / whole * 100;\n    const trojorWidth = trojorCount / whole * 100;\n\n    this.strumporBtnWidth = strumporWidth;\n    this.byxorBtnWidth = byxorWidth;\n    this.trojorBtnWidth = trojorWidth;\n  }\n}\n</script>\n\n<style scoped>\n.minified {\n    position: fixed;\n    bottom: 0;\n    width: 100vw;\n    background: #fff;\n    height: 50px;\n    z-index: 2;\n    text-align: right;\n    padding-right: 35px;\n    box-sizing: border-box;\n    line-height: 50px;\n    cursor: pointer;\n}\n\n.minified.open {\n    bottom: 200px;\n}\n\n.minified .fa-times,\n.minified.open .fa-sliders-h {\n     display: none;\n}\n\n.minified .fa-sliders-h,\n.minified.open .fa-times {\n    display: inline-block;\n}\n\n.expanded {\n    position: fixed;\n    bottom: 0;\n    width: 100vw;\n    background: #fff;\n    height: 200px;\n    z-index: 2;\n    padding: 0 20px 0 20px;\n    box-sizing: border-box;\n}\n\n.toogle-garmet-btns {\n    margin-bottom: 7px;\n}\n\n.toogle-garmet-btns div {\n    display: inline-block;\n    background-color: #daefff;\n    border: 2px solid #a8a8a8;\n    box-sizing: border-box;\n    cursor: pointer;\n}\n\n.toogle-garmet-btns div[aria-pressed=true] {\n    display: inline-block;\n    background-color: #62bbff;\n}\n\n#color-wraper {\n    position: relative;\n    width: 50%;\n    border: 2px solid #a8a8a8;\n    box-sizing: border-box;\n    float: left;\n}\n\n#color-wraper svg {\n    position: absolute;\n    left: calc(50% - 8px);\n    top: 5px;\n}\n\ninput[type=color] {\n    opacity: 0;\n    cursor: pointer;\n    width: 100%\n}\n\n#color-reset {\n    position: relative;\n    border: 2px solid #a8a8a8;\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    width: 50%;\n    cursor: pointer;\n    float: left;\n    height: 29px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/FilterMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root\"},[_c('div',{staticClass:\"minified\",class:{open: _vm.isShown},on:{\"click\":function($event){_vm.toggle()}}},[_c('i',{staticClass:\"fas fa-times\"}),_c('i',{staticClass:\"fas fa-sliders-h\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShown),expression:\"isShown\"}],staticClass:\"expanded\"},[_c('div',{staticClass:\"toogle-garmet-btns\"},[_c('div',{style:({ width: _vm.strumporBtnWidth + '%' }),attrs:{\"role\":\"button\",\"aria-pressed\":\"false\"},on:{\"click\":function($event){_vm.toggleGarment($event, 'strumpor')}}},[_vm._v(\"Strumpor\")]),_c('div',{style:({ width: _vm.byxorBtnWidth + '%' }),attrs:{\"role\":\"button\",\"aria-pressed\":\"false\"},on:{\"click\":function($event){_vm.toggleGarment($event, 'byxor')}}},[_vm._v(\"Byxor\")]),_c('div',{style:({ width: _vm.trojorBtnWidth + '%' }),attrs:{\"role\":\"button\",\"aria-pressed\":\"false\"},on:{\"click\":function($event){_vm.toggleGarment($event, 'tröjor')}}},[_vm._v(\"Tröjor\")])]),_c('div',{style:({background: '#' + _vm.activeColor }),attrs:{\"id\":\"color-wraper\"}},[_c('i',{staticClass:\"fas fa-eye-dropper\"}),_c('input',{attrs:{\"type\":\"color\"},on:{\"change\":function($event){_vm.updateColorFilter($event)}}})]),(_vm.colorFilterStatus)?_c('button',{attrs:{\"id\":\"color-reset\"},on:{\"click\":function($event){_vm.resetColorFilter()}}},[_vm._v(\"Reset color\")]):_vm._e()])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08c09e09\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FilterMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08c09e09\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FilterMenu.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FilterMenu.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FilterMenu.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08c09e09\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FilterMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08c09e09\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FilterMenu.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <spinner v-if=\"loading\" class=\"spinner\" size=\"big\" />\n      <masonry v-bind:cols=\"3\" v-bind:gutter=\"0\" v-images-loaded:on.progress=\"imageChange\">\n        <div v-for=\"item in list\" v-bind:key=\"item.europeana_record\" class=\"image\" v-if=\"list\">\n          <ObjectView v-bind:object=\"item\"/>\n        </div>\n      </masonry>\n    <FilterMenu v-if=\"allItems.length > 0\" />\n  </div>\n</template>\n\n<script>\nimport imagesLoaded from 'vue-images-loaded';\nimport Spinner from 'vue-simple-spinner';\n\nimport ObjectView from './ObjectView.vue';\nimport FilterMenu from './FilterMenu.vue';\nimport { store } from \"../main.js\";\n\nexport default {\n  name: 'ImageWall',\n  components: {\n    ObjectView,\n    FilterMenu,\n    Spinner,\n  },\n  directives: {\n    imagesLoaded,\n  },\n  computed: {\n    list() {\n      let finalList = store.state.allItems;\n      if (finalList) {\n        // garment filter\n        if (store.state.garmentFilter.length > 0) {\n          finalList = finalList.filter(item => store.state.garmentFilter.some(garment => item.application.garment.includes(garment)));\n        }\n\n        if (store.state.colorFilterActive) {\n          finalList = finalList.filter(item => item.application.colors.some(color => (color.score > 0.1 ? this.isSimilarColor(color.hex, store.state.colorFilter) : false)));\n        }\n\n        // handle reseting of visibleLimit on filter change\n        if (store.state.visibleLimit === this.visibleLimit) {\n          store.commit('resetVisibleLimit');\n          window.scrollTo(0, 0);\n        } else {\n          this.visibleLimit = store.state.visibleLimit;\n        }\n\n        return finalList.slice(0, store.state.visibleLimit);\n      } else {\n        return null;\n      }\n    },\n    loading() {\n      return store.state.isLoadingImages;\n    },\n    allItems() {\n      return store.state.allItems;\n    },\n  },\n  data() {\n    return {\n      option: {\n        getSortData: {\n          id: 'id'\n        },\n        sortBy: 'id'\n      },\n      latestVisibleLimit: 30,\n    }\n  },\n  methods: {\n    imageChange(instance) {\n      // handle image loading state\n      if (instance.isComplete) {\n        store.commit('notLoadingImages');\n      } else {\n        store.commit('loadingImages');\n      }\n    },\n\n    isSimilarColor(hex1, hex2) {\n      const r1 = parseInt(hex1.substring(0, 2), 16);\n      const g1 = parseInt(hex1.substring(2, 4), 16);\n      const b1 = parseInt(hex1.substring(4, 6), 16);\n\n      const r2 = parseInt(hex2.substring(0, 2), 16);\n      const g2 = parseInt(hex2.substring(2, 4), 16);\n      const b2 = parseInt(hex2.substring(4, 6), 16);\n\n      let r = 255 - Math.abs(r1 - r2);\n      let g = 255 - Math.abs(g1 - g2);\n      let b = 255 - Math.abs(b1 - b2);\n\n      r /= 255;\n      g /= 255;\n      b /= 255;\n\n      const score = (r + g + b) / 3;\n      return (score >= 0.9 ? true : false);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.spinner {\n    position: fixed;\n    right: 7px;\n    top: 7px;\n    z-index: 100;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ImageWall.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('spinner',{staticClass:\"spinner\",attrs:{\"size\":\"big\"}}):_vm._e(),_c('masonry',{directives:[{name:\"images-loaded\",rawName:\"v-images-loaded:on.progress\",value:(_vm.imageChange),expression:\"imageChange\",arg:\"on\",modifiers:{\"progress\":true}}],attrs:{\"cols\":3,\"gutter\":0}},_vm._l((_vm.list),function(item){return (_vm.list)?_c('div',{key:item.europeana_record,staticClass:\"image\"},[_c('ObjectView',{attrs:{\"object\":item}})],1):_vm._e()})),(_vm.allItems.length > 0)?_c('FilterMenu'):_vm._e()],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27badcdc\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageWall.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27badcdc\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageWall.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageWall.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageWall.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27badcdc\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageWall.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-27badcdc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageWall.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <ImageWall />\n  </div>\n</template>\n\n<script>\nimport ImageWall from './components/ImageWall';\nimport { store } from './main.js';\n\nexport default {\n  name: 'app',\n  components: {\n    ImageWall,\n  },\n  methods: {\n    fetchIntoState: function() {\n      function shuffle(a) {\n        for (let i = a.length - 1; i > 0; i--) {\n          const j = Math.floor(Math.random() * (i + 1));\n          [a[i], a[j]] = [a[j], a[i]];\n        }\n        return a;\n      }\n\n      this.$http\n        .get('data.json')\n        .then(response => response.body)\n        .then(data => store.commit('addAllItems', shuffle(data)));\n    },\n\n    handleScroll: function() {\n      if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight) - 2000) { // #TODO figure out why this value needs to be so high\n        if (!store.state.isLoadingImages) {\n          store.commit('increaseVisibleLimit', 15);\n        }\n      }\n    }\n  },\n  beforeMount() {\n    this.fetchIntoState();\n  },\n  created: function () {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  destroyed: function () {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n}\n</script>\n\n<style>\nbody {\n    margin: 0;\n}\n\n#app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ImageWall')],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03794a58\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/riksantikvarieambetet/Generous-Interface-Fashion/app/node_modules/.cache/cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03794a58\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport App from './App';\n\nimport AsyncComputed from 'vue-async-computed';\nimport VueResource from 'vue-resource';\nimport Vuex from 'vuex';\nimport VueMasonry from 'vue-masonry-css';\n\nVue.use(AsyncComputed);\nVue.use(VueResource);\nVue.use(Vuex);\nVue.use(VueMasonry);\n\nVue.config.productionTip = false;\n\nexport const store = new Vuex.Store({\n  state: {\n    allItems: null,\n\n    visibleLimit: 30,\n    garmentFilter: [],\n\n    colorFilterActive: false,\n    colorFilter: false,\n\n    isLoadingImages: false,\n  },\n  mutations: {\n    addAllItems(state, items) {\n      state.allItems = items;\n    },\n\n    increaseVisibleLimit(state, increase) {\n      state.visibleLimit += increase;\n    },\n\n    resetVisibleLimit(state) {\n      state.visibleLimit = 30;\n    },\n\n    toggleGarment(state, garment) {\n      let index = state.garmentFilter.indexOf(garment);\n      if (index === -1) {\n        state.garmentFilter.push(garment);\n      } else {\n        state.garmentFilter.splice(index, 1);\n      }\n    },\n\n    loadingImages: state => state.isLoadingImages = true,\n    notLoadingImages: state => state.isLoadingImages = false,\n\n    activateColorFilter: state => state.colorFilterActive = true,\n    deactivateColorFilter: state => state.colorFilterActive = false,\n\n    setColorFilter: (state, color) => state.colorFilter = color,\n  }\n});\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app');\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}