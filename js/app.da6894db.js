webpackJsonp([1],{"+VGo":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},1:function(t,e){},LW8u:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/5sW"),o=(n("gbyG"),n("Gh7F"),n("jOQl")),s=n.n(o),a=n("iPd/"),r=n.n(a),l=n("8kuj"),c=n.n(l),u={name:"ObjectView",props:{object:!1},data:function(){return{isShown:!1}},methods:{toggle:function(){this.isShown=!this.isShown}}},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:t.object.edm_preview,alt:t.object.dc_title},on:{click:function(e){t.toggle()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShown,expression:"isShown"}],staticClass:"details"},[n("img",{attrs:{src:t.object.edm_preview,alt:t.object.dc_title}}),n("p",[t._v(t._s(t.object.dc_title))]),n("a",{attrs:{href:t.object.edm_rights}},[t._v("License")]),n("a",{attrs:{href:t.object.edm_is_shown_at}},[t._v("Source")]),n("br"),n("button",{on:{click:function(e){t.toggle()}}},[t._v("toggle object")])])])},m=[],g=n("XyMi");function f(t){n("LW8u")}var h=!1,p=f,v="data-v-5ea598d0",b=null,w=Object(g["a"])(u,d,m,h,p,v,b),_=w.exports,S={name:"FilterMenu",data:function(){return{isShown:!1,strumporBtnWidth:40,byxorBtnWidth:40}},methods:{toggle:function(){var t=et.state.allItems.length,e=et.state.allItems.filter(function(t){return t.application.garment.includes("strumpor")}).length,n=et.state.allItems.filter(function(t){return t.application.garment.includes("byxor")}).length,i=e/t*100,o=n/t*100;console.log(i,o),this.strumporBtnWidth=i,this.byxorBtnWidth=o,this.isShown=!this.isShown},toggleGarment:function(t,e){console.log(e),"false"===t.target.getAttribute("aria-pressed")?(console.log(!0),t.target.setAttribute("aria-pressed","true")):(console.log(!1),t.target.setAttribute("aria-pressed","false")),et.commit("toggleGarment",e)}}},j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",{staticClass:"minified",class:{open:t.isShown},on:{click:function(e){t.toggle()}}},[t.isShown?n("span",[t._v("close filter")]):t._e(),t.isShown?t._e():n("span",[t._v("open filter")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShown,expression:"isShown"}],staticClass:"expanded"},[n("div",{staticClass:"toogle-garmet-btns"},[n("div",{style:{width:t.strumporBtnWidth+"%"},attrs:{role:"button","aria-pressed":"false"},on:{click:function(e){t.toggleGarment(e,"strumpor")}}},[t._v("Strumpor")]),n("div",{style:{width:t.byxorBtnWidth+"%"},attrs:{role:"button","aria-pressed":"false"},on:{click:function(e){t.toggleGarment(e,"byxor")}}},[t._v("Byxor")])])])])},I=[];function L(t){n("jnmR")}var x=!1,y=L,W="data-v-a8b99892",C=null,O=Object(g["a"])(S,j,I,x,y,W,C),F=O.exports,G={name:"ImageWall",components:{isotope:s.a,ObjectView:_,FilterMenu:F,Spinner:c.a},directives:{imagesLoaded:r.a},computed:{list:function(){var t=et.state.allItems;return console.log("debug: executing filtering"),t?(et.state.garmentFilter.length>0&&(t=t.filter(function(t){return et.state.garmentFilter.some(function(e){return t.application.garment.includes(e)})})),t.slice(0,et.state.visibleLimit)):null},loading:function(){return et.state.isLoadingImages}},data:function(){return{option:{getSortData:{id:"id"},sortBy:"id"}}},methods:{imageChange:function(t){this.$refs.cpt.layout("masonry"),t.isComplete?et.commit("notLoadingImages"):et.commit("loadingImages")}}},k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("spinner",{staticClass:"spinner",attrs:{size:"big"}}):t._e(),t.list?n("isotope",{directives:[{name:"images-loaded",rawName:"v-images-loaded:on.progress",value:t.imageChange,expression:"imageChange",arg:"on",modifiers:{progress:!0}}],ref:"cpt",attrs:{list:t.list,id:"root_isotope",options:t.option}},t._l(t.list,function(t){return n("div",{key:t.europeana_record,staticClass:"image"},[n("ObjectView",{attrs:{object:t}})],1)})):t._e(),n("FilterMenu")],1)},B=[];function V(t){n("S2JT")}var $=!1,A=V,E="data-v-6d24de91",M=null,N=Object(g["a"])(G,k,B,$,A,E,M),H=N.exports,J={name:"app",components:{ImageWall:H},methods:{fetchIntoState:function(){this.$http.get("data.json").then(function(t){return t.body}).then(function(t){return et.commit("addAllItems",t)})},handleScroll:function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(et.state.isLoadingImages||et.commit("increaseVisibleLimit",5))}},beforeMount:function(){this.fetchIntoState()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("ImageWall")],1)},T=[];function R(t){n("+VGo")}var Y=!1,z=R,D=null,Q=null,X=Object(g["a"])(J,P,T,Y,z,D,Q),q=X.exports,K=n("PlbA"),U=n.n(K),Z=n("8+8L"),tt=n("NYxO");n.d(e,"store",function(){return et}),i["default"].use(U.a),i["default"].use(Z["a"]),i["default"].use(tt["a"]),i["default"].config.productionTip=!1;var et=new tt["a"].Store({state:{allItems:null,visibleLimit:15,garmentFilter:[],isLoadingImages:!1},mutations:{addAllItems:function(t,e){t.allItems=e},increaseVisibleLimit:function(t,e){t.visibleLimit+=e},resetVisibleLimit:function(t){t.visibleLimit=15},toggleGarment:function(t,e){var n=t.garmentFilter.indexOf(e);-1===n?t.garmentFilter.push(e):t.garmentFilter.splice(n,1)},loadingImages:function(t){return t.isLoadingImages=!0},notLoadingImages:function(t){return t.isLoadingImages=!1}}});new i["default"]({render:function(t){return t(q)}}).$mount("#app")},S2JT:function(t,e){},jnmR:function(t,e){}},[0]);
//# sourceMappingURL=app.da6894db.js.map